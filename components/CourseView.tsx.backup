import React, { useCallback } from 'react';
import { Sparkles, Mic, Box, ArrowRight, Crown, Zap, Lock, Unlock } from 'lucide-react';

interface HeroProps {
  onEnter: (courseId: string) => void;
}

export const Hero: React.FC<HeroProps> = ({ onEnter }) => {

  const playHoverSound = useCallback(() => {
     try {
       const AudioContext = window.AudioContext || (window as any).webkitAudioContext;
       if (!AudioContext) return;
       
       const ctx = new AudioContext();
       const osc = ctx.createOscillator();
       const gain = ctx.createGain();
       
       osc.connect(gain);
       gain.connect(ctx.destination);
       
       // "Glassy/Magical" Ping Sound
       osc.type = 'sine';
       osc.frequency.setValueAtTime(800, ctx.currentTime);
       osc.frequency.exponentialRampToValueAtTime(1200, ctx.currentTime + 0.1);
       
       gain.gain.setValueAtTime(0.08, ctx.currentTime);
       gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.15);
       
       osc.start();
       osc.stop(ctx.currentTime + 0.15);
     } catch (e) {
       // Silently fail if audio context not supported or blocked
     }
  }, []);

  const cardBaseClass = "group relative rounded-sm overflow-hidden flex flex-col transition-all duration-500 ease-out hover:scale-105 hover:z-30 hover:shadow-[0_0_50px_rgba(79,212,208,0.2)] h-auto min-h-[450px] lg:h-[420px] cursor-pointer border border-lux-goldDark hover:border-lux-cyan bg-lux-navy/80 backdrop-blur-md";

  return (
    <div className="min-h-screen w-full bg-lux-black text-gray-200 overflow-y-auto overflow-x-hidden relative pb-40 lg:pb-0">
      {/* Cinematic Background */}
      <div className="fixed inset-0 z-0 pointer-events-none">
         <div className="absolute inset-0 bg-gradient-to-b from-lux-navy via-lux-black to-lux-black opacity-90"></div>
         <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"></div>
         <div className="absolute bottom-0 w-full h-1/2 bg-gradient-to-t from-lux-cyan/5 to-transparent"></div>
      </div>

      {/* Content Container */}
      <div className="relative z-10 w-full min-h-screen flex flex-col justify-center py-12 lg:py-0">
        
        {/* Hero Header */}
        <div className="text-center px-4 flex-shrink-0 mb-8 lg:mb-10 pt-10 lg:pt-0">
           <div className="inline-block mb-2 lg:mb-4 animate-float">
              <Crown className="w-8 h-8 lg:w-10 lg:h-10 text-lux-gold drop-shadow-[0_0_10px_rgba(228,197,114,0.6)]" />
           </div>
           <h1 className="text-3xl lg:text-5xl font-display font-bold text-transparent bg-clip-text bg-gradient-to-b from-lux-gold via-lux-goldDim to-lux-goldDark drop-shadow-2xl mb-2 lg:mb-3">
             VOX LUX STRATEGY
           </h1>
           <p className="text-sm lg:text-lg text-blue-200/60 font-serif italic tracking-wide max-w-2xl mx-auto px-4">
             "Il portale per l'ascensione neuro-digitale."
           </p>
        </div>

        {/* Matrix Selection Grid */}
        <div className="w-full max-w-6xl mx-auto px-6 lg:px-8">
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-6 items-center">
            
            {/* Matrice I Card */}
            <div 
              onClick={() => onEnter('matrice-1')}
              onMouseEnter={playHoverSound}
              className={`${cardBaseClass} order-2 lg:order-1`}
            >
              <div className="absolute inset-0 bg-gradient-to-b from-transparent to-lux-black/90 z-0"></div>
              <div className="relative z-10 p-6 lg:p-8 flex flex-col h-full items-center text-center">
                 <div className="w-12 h-12 lg:w-14 lg:h-14 rounded-full border-2 border-lux-goldDim flex items-center justify-center bg-lux-black mb-4 group-hover:border-lux-cyan transition-all flex-shrink-0 shadow-lg group-hover:shadow-[0_0_20px_rgba(79,212,208,0.4)]">
                    <Sparkles className="w-6 h-6 lg:w-7 lg:h-7 text-lux-goldDim group-hover:text-lux-cyan transition-colors" />
                 </div>
                 
                 <h3 className="text-lg lg:text-xl font-display font-bold text-lux-gold mb-1 group-hover:text-white transition-colors">MATRICE I</h3>
                 <p className="text-[9px] lg:text-[10px] uppercase tracking-[0.2em] text-blue-300/50 mb-5">Storytelling Strategy</p>
                 
                 <p className="text-gray-400 text-sm lg:text-base leading-relaxed mb-6 flex-grow">
                   Neuro-Narrativa e Voce Strategica. Domina l'arte di influenzare attraverso il racconto ancestrale.
                 </p>
                 
                 <div className="w-full pt-4 border-t border-white/5 mt-auto">
                    <button className="w-full py-3 border border-lux-goldDark/30 text-lux-goldDark group-hover:text-lux-cyan group-hover:border-lux-cyan/50 transition-colors text-xs tracking-[0.2em] font-bold uppercase flex items-center justify-center gap-2">
                       <Unlock className="w-3 h-3" /> Access Portal
                    </button>
                 </div>
              </div>
            </div>

            {/* Ascension Box (Center) */}
            <div 
              onClick={() => onEnter('ascension-box')}
              onMouseEnter={playHoverSound}
              className={`${cardBaseClass} order-1 lg:order-2 bg-gradient-to-b from-lux-royal to-lux-navy border-lux-gold shadow-[0_0_20px_rgba(228,197,114,0.1)] hover:border-lux-gold hover:shadow-[0_0_40px_rgba(228,197,114,0.3)]`}
            >
               <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
               <div className="absolute top-0 right-0 p-3">
                  <div className="bg-lux-gold text-lux-black text-[9px] font-bold px-2 py-1 rounded-sm uppercase tracking-wider shadow-lg">
                    Ultimate
                  </div>
               </div>
               
               <div className="relative z-10 p-6 lg:p-8 flex flex-col h-full items-center text-center">
                 <div className="w-16 h-16 lg:w-20 lg:h-20 rounded-full border-2 border-lux-gold flex items-center justify-center bg-lux-royal mb-4 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_20px_rgba(228,197,114,0.3)]">
                    <Box className="w-8 h-8 lg:w-10 lg:h-10 text-lux-gold" />
                 </div>
                 
                 <h3 className="text-2xl lg:text-3xl font-display font-bold text-transparent bg-clip-text bg-gradient-to-b from-white to-blue-200 mb-1">ASCENSION BOX</h3>
                 <p className="text-[10px] lg:text-[11px] uppercase tracking-[0.3em] text-lux-cyan mb-6">Complete Combo System</p>
                 
                 <div className="space-y-3 w-full text-left mb-8 pl-2 flex-grow">
                    <div className="flex items-center gap-3 text-sm text-blue-100/80">
                      <Zap className="w-3 h-3 text-lux-gold" /> Accesso Totale (60 Moduli)
                    </div>
                    <div className="flex items-center gap-3 text-sm text-blue-100/80">
                      <Zap className="w-3 h-3 text-lux-gold" /> Vox Lux Gemini Suite
                    </div>
                    <div className="flex items-center gap-3 text-sm text-blue-100/80">
                      <Zap className="w-3 h-3 text-lux-gold" /> Cripte Vocali Segrete
                    </div>
                 </div>
                 
                 <div className="w-full pt-4 mt-auto">
                    <button 
                      className="w-full py-3 lg:py-4 bg-gradient-to-r from-lux-goldDim to-lux-gold text-lux-black text-xs lg:text-sm tracking-[0.15em] font-bold uppercase flex items-center justify-center gap-2 hover:brightness-110 transition-all shadow-[0_0_20px_rgba(228,197,114,0.4)]"
                    >
                       Entra nella Matrice <ArrowRight className="w-4 h-4" />
                    </button>
                 </div>
               </div>
            </div>

            {/* Matrice II Card */}
            <div 
              onClick={() => onEnter('matrice-2')}
              onMouseEnter={playHoverSound}
              className={`${cardBaseClass} order-3 lg:order-3`}
            >
              <div className="absolute inset-0 bg-gradient-to-b from-transparent to-lux-black/90 z-0"></div>
              <div className="relative z-10 p-6 lg:p-8 flex flex-col h-full items-center text-center">
                 <div className="w-12 h-12 lg:w-14 lg:h-14 rounded-full border-2 border-lux-goldDim flex items-center justify-center bg-lux-black mb-4 group-hover:border-lux-cyan transition-all flex-shrink-0 shadow-lg group-hover:shadow-[0_0_20px_rgba(79,212,208,0.4)]">
                    <Mic className="w-6 h-6 lg:w-7 lg:h-7 text-lux-goldDim group-hover:text-lux-cyan transition-colors" />
                 </div>
                 
                 <h3 className="text-lg lg:text-xl font-display font-bold text-lux-gold mb-1 group-hover:text-white transition-colors">MATRICE II</h3>
                 <p className="text-[9px] lg:text-[10px] uppercase tracking-[0.2em] text-blue-300/50 mb-5">Vox Podcast Master</p>
                 
                 <p className="text-gray-400 text-sm lg:text-base leading-relaxed mb-6 flex-grow">
                   Ingegneria Acustica e Frequenze Emozionali. Costruisci esperienze sonore immersive.
                 </p>
                 
                 <div className="w-full pt-4 border-t border-white/5 mt-auto">
                    <button className="w-full py-3 border border-lux-goldDark/30 text-lux-goldDark group-hover:text-lux-cyan group-hover:border-lux-cyan/50 transition-colors text-xs tracking-[0.2em] font-bold uppercase flex items-center justify-center gap-2">
                       <Unlock className="w-3 h-3" /> Access Portal
                    </button>
                 </div>
              </div>
            </div>

          </div>
        </div>

        {/* Footer */}
        <div className="absolute bottom-6 w-full text-center hidden lg:block">
           <p className="text-[10px] uppercase tracking-[0.3em] text-lux-goldDark opacity-50 font-display">Vox Lux Strategy © 2026 • Riot-Inspired Neural Architecture</p>
        </div>

      </div>
    </div>
  );
};